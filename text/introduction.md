# Ներածություն

Այս գրքում ես պատմում եմ ալգորիթմական լեզվի ինտերպրետատոր գրելու մասին։ Որպես ցուցադրման առարկա ընտրել եմ _Բալ ալգորիթմական լեզուն_։ Այն Բեյսիկ (BASIC), Պիթոն (Python) և ՋավաՍկրիպտ (JavaScript) լեզուների ազդեցությամբ նախագծված մի լեզու է, որն ունի ծրագրավորման լեզուներին յուրահատուկ բոլոր հիմնական հատկանիշները. թվային, տեքստային, տրամաբանական տիպեր, դրանց զանգվածներ, ղեկավարման կառուցվածքներ ու ենթածրագրեր։ Այս նվազագույն միջոցները թույլ են տալիս սահմանել ու իրագործել ալգորիթմների բավականին մեծ տեսականի։

Պարզ է, որ Բալը նախատեսված չէ արտադրական ծրագրավորման համար։ Այն պարզապես մի _փորձարարական նախագիծ_ է, որի օգնությամբ ես ցուցադրում եմ ինտերպրետատոր գրելու միջոցներն ու հնարքները։ Այն նաև մի մեծ _վարժություն_ է, որը դո՛ւ, հարգելի ընթերցող, կարող ես ընդլայնել ու հարստացնել։

Բալ ինտերպրետատորը, որպես գործիք, հրամանային տողի արգումենտով ստանում է `*.bas` (`*.bal`, `*.բալ`) վերջավորությամբ տեքստային ֆայլ, վերլուծում է այդ ֆայլի պարունակությունն ու կառուցում վերացական շարահյուսական ծառ (AST, abstract syntax tree), ապա անցնելով ծառի հանգույցներով՝ կատարում, մեկնաբանում, _ինտերպրետացնում_ է դրանցում գրված տվյալներն ու վերջում արտածման ստանդարտ հոսքին դուրս է բերում ինտերպրետացիայի արդյունքը։

```
/-------+      +--------+      +---------+      +-------------+      +--------+
| input | ---> | parser | ---> |   AST   | ---> | interpreter | ---> | output |
+-------+      +--------+      +---------+      +------+------+      \________/
                                                       |
                                                +------+------+
                                                | environment |
                                                +-------------+
```

Գրքի տեքստը բաղկացած է չորս գլուխներից․
1. __Լեզվի նկարագրությունը__ գլխում, EBNF գրառմամբ, սահմանված է _Բալ_ ալգորիթմական լեզուն։ Բերված են օրինակներ։
2. __Վերլուծության ծառ__ գլխում նկարագրվում են _վերացական շարահյուսական ծառի_ հանգույցների տիպերն ու դրանց նշանակությունը։
3. __Շարահյուսական վերլուծություն__ գլխում խոսում եմ ծրագրի տեքստի վերլուծության ու աբստրակտ քերականական ծառի կառուցման մասին։
4. __Ինտերպրետացիա__ գլուխը մեկ առ մեկ նկարագրում է լեզվի արտահայտությունների հաշվարկման ու հրամանների կատարման եղանակները։ Այստեղ խոսվում է նաև _կատարման/հաշվարկման միջավայրերի_ ու _հաշվարկման արժեքների_ մասին։

Ինտերպրետատորն ամբողջությամբ իրականացված է Go լեզվով (այս տեքստը գրելու պահին 1.18 տարբերակը), և բաղկացած է չորս փաթեթներից (package).
1. `ast`, որում սահմանված են վերլուծության ծառի հանգույցների տիպերը և դրանց հետ աշխատելու համար նախատեսված որոշ ֆունկցիաներ ու մեթոդներ։
2. `interpreter`, որում իրականացված է ինտերպրետատորի վարքը՝ վերլուծության ծառի ամեն մի հանգույցի կատարման ֆունցկիաները։ Այստեղ են սահմանված նաև Բալի ներդրված ենթածրագրերը (`builtins`), կատարման ժամանակ հաշվարկված արժեքները պահելու միջավայրը (`environment`): 
3. `parser`, որում սահմանված և իրականացված է լեզվի շարահյուսական վերլուծիչը (`parser`): Այստեղ է սահմանված նաև ծրագրի տեքստի բառային վերլուծիչը (`scanner`)։
4. `main`, որում պազմակերպված է 


