# Լեզվի նկարագրությունը

_Բալը_ տպերի դինամիկ ստուգումով (dynamically typed) և խիստ տիպիզացված (strong typed) լեզու է։ Հիմնականում ընդօրինակված լինելով դասական Բեյսիկ (BASIC) լեզվից, այն որոշ հատկություններ է յուրացրել նաև Պիթոնից ու ՋավաՍկրիպտից։ Փոփոխակաները տիպավորված չեն․ ծրագրի կատարման ընթաքում նույն անունով փոփոխականին կարող են համապատասխանեցվել տարբեր տիպի արժեքներ։ Արժեքների տիպերը ստուգվում են օգտագործման կետում։ 

Բալի քերականությունը սահմանելու համար օգտագործելու եմ _Բեկուսի֊Նաուրի ընդլայնված գրառումը_ (EBNF, տես՝ Wirth, _Compiler construction_)։

Բալ _ծրագիրը_՝ `Program`, ենթածրագրերի հաջորդականություն է։

```
Program = { Subroutine }.
```

_Ենթածրագիրը_՝ `Subroutine`, ինքնուրույն, իմաստալից գործողության սահմանումն է։ Այն կարող է ստանալ արգումենտներ՝ իր պարամետրերի միջոցով, և վերադարձնել արժեք։

```
Subroutine = 'SUB' IDENT ['(' [IDENT {',' IDENT}] ')'] Sequence 'END' SUB'.
```

Ենթածրագրերի մարմնում գործողությունները նկարագրվում են որպես _հրամանների հաջորդականություն_՝ `Sequence`։ Հաջորդականությունը սկսվում է մեկ կամ ավելի նոր տողերի նիշերվ, իսկ ամեն մի հրամանին նորից պետք է հաջորդեն մեկ կամ ավելի նոր տողեր։

```
Sequence = NewLines { Statement NewLines }.
NewLines = NEWLINE { NEWLINE }.
```

Լեզվի հրամանները (կամ ղեկավարող կառուցվածքները) ութն են՝ նախատեսված միաչափ զանգվածների սահմանման, վերագրման, ներմուծման ու արտածման, ճյուղավորման, կրկնությունների և ենթածրագրի կանչի համար։ 

__Զանգված։__ Միաչափ զանգվածները՝ վեկտորները, սահմանվում են `DIM` հրամանով։ Այն ստանում է զանգվածի անունն ու տարրերի քանակը, որը կարող է լինել ոչ միայն հաստատուն, այլև կատարման ժամանակ հաշվարկվող արտահայտություն՝ թվային արժեքով։

```
Statement = 'DIM' IDENT '[' Expression ']'.
```

Օրինակ, հայտարարենք յոթ տարրերի `arr` զանգվածը։

```Basic
DIM arr[7]
```

__Վերագրում։__ Փոփոխականին, կամ զանգվածի տարրին նոր արժեք վերագրելու համար նախատեսված է `LET` հրամանը․

```
Statement = 'LET' IDENT {'[' Expression ']'} '=' Expression.
```

Օրինակ․

```Basic
LET pi = 3.1415         ' pi փոփոխականին վերագրել 3.1415 արժեքը
LET days[0] = "Monday"  ' days զանգվածի առաջին տարրին վերագրել Monday արժեքը
```

__Ներմուծում և արտածում։__ Ներմուծման ստանդարտ հոսքից տվյալների ներմուծման համար է նախատեսված `INPUT` հրամանը։ Այն թույլ է տալիս ներմուծել տրամաբանական, թվային ու տեքստային արժեքներ։

```
Statement = 'INPUT' IDENT.
```

Տվյալների արտածման համար նախատեսված է `PRINT` հրամանը։ Այն կարողանում է արտածել տրամաբանական, թվային ու տեքստային արժեքները, ինչպես նաև զանգվածները։

```
Statement = 'PRINT' Expression.
```


```
Statement = 
          | 'IF' Expression 'THEN' Sequence
            { 'ELSEIF' Expression 'THEN' Sequence }
            [ 'ELSE' Sequence ]
            'END' 'IF'
          | 'WHILE' Expression Sequence 'END' 'WHILE'
          | 'FOR' IDENT '=' Expression 'TO' Expression
            ['STEP' ['+'|'-'] NUMBER Sequence
            'END' 'FOR'
          | 'CALL' IDENT [Expression {',' Expression}].
```

```
Expression = Conjunction { 'OR' Conjunction }.
Conjunction = Equality { 'AND' Equality }.
Equality = Comparison [ ('=' | '<>') Comparison ].
Comparison = Addition [ ('<' | '<=' | '>' | '>=') Addition ].
Addition = Multiplication { ('+' | '-' | '&') Multiplication }.
Multiplication = Power { ('*' | '/' | '\') Power }.
Power = Subscript [ '^' Power ].
Subscript = Factor { '[' Expression ']' }.
Factor = 
```
